$('document').ready(function() {
  if ($('body.videos').length) {
    console.log("Page generated by the videos controller.");

    //... video js code here
    $('.comment').click(function(e){
      e.preventDefault();
      var count = parseInt($('.count').text().slice(14)) + 1;
      var id = $('form:eq(0)').attr('class');
      var user_id = $('.user_id').val();
      var comment = $('#comment_comment').val();
      $.ajax({
        type:"POST",
        url:"/videos/"+id+"/comments",
        data:{video_id:id,comment:comment,user_id:user_id},
      }).done(function(html){
        var title = $(html).find('.comments').children('li').last();
        var comment = $(html).find('.comments').children('p').last();
        $('.comments').append(title);
        $('.comments').append(comment);
        $('.count').text("All comments ("+count+")");
      });
      $('#comment_comment').val("");
    });
    $('.edit').click(function(e){
      e.preventDefault();
    });
    $('.delete').click(function(e){
      e.preventDefault();
      // var count = parseInt($('.count').text().slice(14)) - 1;
      // var id = $(this).parent().attr("class");
      // var video_id = $('form:eq(0)').attr('class');
      // $.ajax({
      //   type:"DELETE",
      //   url:"/comments/"+id+"",
      //   data:{id:id,video_id:video_id}
      // }).done(function(){
      //   $(this).parent().remove();
      //   $('li.'+id+'').remove();
      //      $('.count').text("All comments ("+count+")");
      // });
    });
  }
});